UniversalAgent 端到端测试结果 - 2026年1月3日
测试时间: 2026-01-03 22:37:22 (估计)
运行脚本: full_test.py
============================================================

[测试1] 代码分析 - 安全漏洞检测
----------------------------------------
质量评分: 50.0/100
等级: F
安全问题数: 4
  - 严重: 1
  - 错误: 3
  - 警告: 0

发现的安全问题:
  [critical] 行18: 命令注入风险：使用os.system
  [error] 行20: 硬编码密码
  [error] 行21: 硬编码API密钥
  [error] 行14: 不安全的反序列化：使用pickle

[测试2] 代码分析 - 性能问题检测
----------------------------------------
质量评分: 90.5/100
性能问题数: 4

发现的性能问题:
  [warning] 行5: 低效循环：使用range(len())而不是直接迭代
  [warning] 行12: 低效循环：使用range(len())而不是直接迭代
  [warning] 行13: 低效循环：使用range(len())而不是直接迭代
  [info] 行16: 循环中使用append

[测试3] 代码分析 - 复杂度检测
----------------------------------------
质量评分: 91.0/100
复杂度问题数: 3

发现的复杂度问题:
  [warning] 行2: 函数 'complex_function' 参数过多 (8 个，阈值 5)
  [warning] 行2: 函数 'complex_function' 嵌套层级过深 (5 层，阈值 4)
  [warning] 行22: 函数 'very_long_function' 过长 (54 行，阈值 50)

[测试4] 记忆系统测试
----------------------------------------
会话ID: 9742acd714d0bc97
消息数: 4
当前话题: programming
检测到的意图: ['code_help', 'learning']
短期记忆数: 0
回忆到 2 条相关记忆
相关上下文长度: 147 字符
[OK] 记忆系统测试通过

[测试5] 多智能体协调器测试
----------------------------------------
可用智能体数: 5
  - 代码分析专家: ['code_analysis', 'refactoring']
  - 安全审计专家: ['security_auditor']
  - 性能优化专家: ['performance_optimizer']
  - 文档生成专家: ['documentation_agent']
  - 测试专家: ['testing_agent']

执行代码分析任务...
  状态: completed
  执行时间: 0.00秒
  置信度: 0.9
  质量评分: 97.0

执行安全审计任务...
  状态: completed
  执行时间: 0.00秒
  风险等级: critical
  漏洞数: N/A

执行性能优化任务...
  状态: completed
  执行时间: 0.00秒

协调器统计:
  总智能体数: 5
  完成任务数: 0
  失败任务数: 0
  成功率: 0.0%
[OK] 多智能体协调器测试通过

[测试6] 工作流执行测试
----------------------------------------
创建代码审查工作流...
工作流任务数: 4
  - 分析代码结构和质量: data/temp_workflow_test.py (依赖: [])
  - 安全漏洞扫描: data/temp_workflow_test.py (依赖: ['32c820ce'])
  - 性能问题检测: data/temp_workflow_test.py (依赖: ['32c820ce'])
  - 生成综合代码审查报告 (依赖: ['ee6b363d', '95e16782'])

执行工作流...

工作流结果:
  任务 32c820ce: completed
    评分: 97.0
  任务 ee6b363d: completed
    评分: N/A
    风险: critical
  任务 95e16782: completed
    评分: N/A
  任务 a9f667e3: completed
[OK] 工作流执行测试通过

============================================================
端到端测试完成!
============================================================

测试结果汇总:
  [OK] 代码分析 - 安全漏洞检测
  [OK] 代码分析 - 性能问题检测
  [OK] 代码分析 - 复杂度检测
  [OK] 记忆系统
  [OK] 多智能体协调器
  [OK] 工作流执行

所有测试通过!
