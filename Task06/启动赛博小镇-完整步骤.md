# 🎮 赛博小镇 - 启动步骤指南

## 方法一：一键启动（推荐）⚡

### 步骤 1：启动后端服务
打开 PowerShell，复制粘贴以下命令：

```powershell
cd C:\Users\frankechen\CFP-Study\Task06\official-code\code\chapter15\Helloagents-AI-Town\backend
.\venv\Scripts\python.exe main.py
```

**保持这个窗口运行**，不要关闭！

---

### 步骤 2：启动 Godot 并运行游戏
**另开一个新的 PowerShell 窗口**，复制粘贴以下命令：

```powershell
cd C:\Godot
.\Godot_v4.3-stable_win64.exe --path "C:\Users\frankechen\CFP-Study\Task06\official-code\code\chapter15\Helloagents-AI-Town\helloagents-ai-town"
```

---

### 步骤 3：在 Godot 中运行游戏
Godot 编辑器打开后：
1. 按键盘 **F5** 键
2. 或点击右上角的 **▶ 运行项目** 按钮

---

## 方法二：使用 Windows 资源管理器 📁

### 步骤 1：启动后端
1. 打开文件夹：`C:\Users\frankechen\CFP-Study\Task06\official-code\code\chapter15\Helloagents-AI-Town\backend`
2. 右键点击 `启动后端.ps1`
3. 选择 "使用 PowerShell 运行"
4. **保持窗口运行**

### 步骤 2：启动 Godot
1. 打开文件夹：`C:\Godot`
2. 双击 `Godot_v4.3-stable_win64.exe`
3. 在 Godot 项目管理器中，点击 "导入"
4. 浏览到：`C:\Users\frankechen\CFP-Study\Task06\official-code\code\chapter15\Helloagents-AI-Town\helloagents-ai-town`
5. 选择 `project.godot` 文件
6. 点击 "导入并编辑"

### 步骤 3：运行游戏
- 按 **F5** 或点击右上角 **▶ 运行项目**

---

## 🎮 游戏控制

- **WASD** 或 **方向键**：移动角色
- **E键** 或 **鼠标点击 NPC**：与 NPC 对话
- **ESC**：关闭对话框

---

## 👥 3 个 NPC 角色

1. **张三** - Python工程师（技术宅）
2. **李四** - 产品经理（外向健谈）
3. **王五** - UI设计师（细腻敏感）

---

## 🔍 验证服务是否启动成功

### 后端服务检查
打开浏览器访问：http://localhost:8000/docs

如果能看到 API 文档页面，说明后端启动成功！

### 游戏运行检查
如果游戏窗口打开，能看到场景和角色，说明一切正常！

---

## ❌ 常见问题

### 问题 1：后端启动失败
- 确保在 `backend` 目录下运行
- 检查虚拟环境是否存在：`backend\venv`
- 重新运行命令

### 问题 2：找不到 Godot
- Godot 位置：`C:\Godot\Godot_v4.3-stable_win64.exe`
- 可以手动双击打开
- 然后手动导入项目

### 问题 3：游戏运行但 NPC 不说话
- 检查后端服务是否在运行
- 访问 http://localhost:8000/docs 确认后端正常
- 查看后端窗口是否有错误信息

---

## 🛑 停止服务

- **后端**：在后端 PowerShell 窗口按 `Ctrl+C`
- **游戏**：直接关闭游戏窗口
- **Godot 编辑器**：关闭 Godot 窗口

---

## 📝 学习建议

1. 先玩 10-15 分钟，熟悉游戏
2. 与每个 NPC 至少对话 3 次
3. 观察好感度系统的变化
4. 查看后端日志了解 AI 对话生成过程
5. 阅读代码，理解前后端交互逻辑

---

**祝你玩得开心！** 🎉
